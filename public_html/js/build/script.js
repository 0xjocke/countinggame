function Person(a){this.name=a[0].value,this.email=a[1].value}function Game(){this.rightanswer="",this.pointsCounter=0,this.pointsInRow=0}var math=[{math:"33 + 49",answer:"82"},{math:"27 + 19",answer:"46"},{math:"44 + 17",answer:"61"},{math:"22 + 25",answer:"47"},{math:"59 + 15",answer:"74"},{math:"22 + 61",answer:"83"},{math:"54 + 17",answer:"71"},{math:"12 + 26",answer:"38"},{math:"31 + 41",answer:"72"},{math:"22 + 14",answer:"36"},{math:"3 * 1 + 12 - 2",answer:"13"},{math:"27 * 3",answer:"81"},{math:"44 - 17 + 30",answer:"57"},{math:"22 + 25 * 2",answer:"72"},{math:"100 - 10 - 11",answer:"79"},{math:"4 * 2 * 2 * 2",answer:"32"},{math:"3 + 1 + 2 * 10",answer:"24"},{math:"10 / 2 * 3",answer:"15"},{math:"100 - 2 - 3 - 50",answer:"45"},{math:"2 * 10 * 4",answer:"80"},{math:"35 + 99",answer:"134"},{math:"37 + 39",answer:"76"},{math:"4400 + 17",answer:"4417"},{math:"300 - 25",answer:"275"},{math:"10 + 1 * 0",answer:"10"},{math:"0 * 100 + 1",answer:"1"},{math:"50 + 117",answer:"167"},{math:"12 + 260",answer:"272"},{math:"310 + 410",answer:"720"},{math:"10 / 2",answer:"5"},{math:"47 * 13",answer:"60"},{math:"1 + 1 + 1 - 1",answer:"2"},{math:"2 * 2 + 10",answer:"14"},{math:"3 + 3 + 2",answer:"8"},{math:"100 - 50 - 50",answer:"0"},{math:"5 * 10 + 10",answer:"60"},{math:"10000 / 1000",answer:"10"},{math:"10 * 100 * 0",answer:"0"},{math:"100 - 20 + 3",answer:"77"},{math:"20 * 10 * 4",answer:"800"},{math:"300 * 10",answer:"3000"},{math:"1 + 1 + 1 - 1 + 1",answer:"3"},{math:"2 + 2 + 100",answer:"104"},{math:"30 - 9 - 9",answer:"12"},{math:"50 - 30 - 20",answer:"0"},{math:"5 * 100 + 100",answer:"600"},{math:"1000 / 1000",answer:"1"},{math:"10 * 1000 * 0",answer:"0"},{math:"1000 - 20 + 3",answer:"977"},{math:"200 * 10 * 4",answer:"8000"}];Person.prototype.signup=function(){$.ajax({url:"backend.php",type:"POST",data:{name:this.name,email:this.email}}).done(function(){$(".login").fadeOut("fast",function(){$(".play").fadeIn("fast"),$("#dataloaded").trigger("click")})}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},Game.prototype.points=function(){$("#points").html(this.pointsCounter)},Game.prototype.timer=function(){var a=60,b=setInterval(function(){$("#counter").html(a--),9===a&&document.getElementById("clockSound").play(),-1==a&&(clearInterval(b),$("#finished").trigger("click"))},1e3)},Game.prototype.addNumber=function(){var a=Math.floor(20*Math.random()+1),b=$("#mathQuestion").html(math[a].math);Game.prototype.fixFontSize(b);var c=Math.floor(4*Math.random()+1);switch(c){case 1:this.rightanswer="#answer1",$("#answer1").html(math[a].answer),$("#answer2").html(math[a].answer-1+7),$("#answer3").html(math[a].answer-10),$("#answer4").html(math[a].answer-6);break;case 2:this.rightanswer="#answer2",$("#answer2").html(math[a].answer),$("#answer1").html(math[a].answer-1+7),$("#answer3").html(math[a].answer-2),$("#answer4").html(math[a].answer-10);break;case 3:this.rightanswer="#answer3",$("#answer3").html(math[a].answer),$("#answer2").html(math[a].answer-10),$("#answer4").html(math[a].answer-4),$("#answer1").html(math[a].answer-1+4);break;case 4:this.rightanswer="#answer4",$("#answer4").html(math[a].answer),$("#answer1").html(math[a].answer-1+3),$("#answer2").html(math[a].answer-10),$("#answer3").html(math[a].answer-2)}},Game.prototype.fixFontSize=function(a){$("#mathQuestion").css(a.html().length>13?{"font-size":"4rem","margin-top":"2.5rem"}:a.html().length>8?{"font-size":"5rem","margin-top":"2rem"}:{"font-size":"7rem","margin-top":"0"})},Game.prototype.checkAnswer=function(a){$(a).is(this.rightanswer)?(this.pointsInRow+=1,this.pointsInRow%5===0&&(this.pointsCounter+=10,document.getElementById("bonusPling").play(),$(".bonus").fadeIn("fast").delay(1200).fadeOut("fast")),this.pointsCounter+=10,this.points(),$(".answer").addClass("wrong-notpicked"),a.toggleClass("wrong-notpicked"),a.toggleClass("correct-picked")):(this.pointsInRow=0,$(".answer").addClass("wrong-notpicked"),a.toggleClass("wrong-notpicked"),a.toggleClass("wrong-picked"),$(this.rightanswer).removeClass("wrong-notpicked"),$(this.rightanswer).toggleClass("correct-notpicked"))},Game.prototype.resetOld=function(){this.rightanswer="",this.pointsCounter=0,this.pointsInRow=0,$("#answer1").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer2").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer3").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer4").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked")},Game.prototype.removeClasses=function(){$("#answer1").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer2").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer3").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked"),$("#answer4").removeClass("wrong-notpicked wrong-picked correct-notpicked correct-picked")},Game.prototype.finished=function(){$(".play").fadeOut("fast",function(){$(".finished").fadeIn("fast"),$("#pointsloaded").trigger("click")}),$.ajax({url:"backend.php",type:"POST",data:{points:this.pointsCounter}}).done(function(){console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},$(document).on("submit","#signup",function(a){if(a.preventDefault(),document.getElementById("clockSound").play(),document.getElementById("clockSound").pause(),""===$(".contactfield-name").val())return void $(".validationN").fadeIn("fast");if($(".validationN").fadeOut("fast"),""===$(".contactfield-email").val())return void $(".validationE").fadeIn("fast");$(".validationE").fadeOut("fast");var b=$(this).serializeArray(),c=new Person(b);game=new Game,c.signup()}),$(document).on("click","#dataloaded",function(a){a.preventDefault(),game.resetOld(),answered=!1,game.points(),game.timer(),game.addNumber()}),$(document).hammer().on("tap",".answer",function(a){if(a.preventDefault(),!answered){var b=$(this);answered=!0,game.checkAnswer(b);var c=setInterval(function(){game.removeClasses(),game.addNumber(),answered=!1,clearInterval(c)},1e3)}}),$(document).on("click","#finished",function(a){a.preventDefault(),game.finished()}),$(document).on("click","#pointsloaded",function(a){a.preventDefault(),$("#finishedPoints").html(game.pointsCounter)}),$(document).hammer().on("tap","#playagain",function(a){a.preventDefault(),$(".finished").fadeOut("fast",function(){$(".play").fadeIn("fast"),$("#dataloaded").trigger("click")})}),$(document).hammer().on("tap","#toplist",function(a){a.preventDefault(),$.ajax({url:"backend.php?toplist=yes"}).done(function(a){$(".toplistTable").replaceWith(a),$(".finished").fadeOut("fast",function(){$(".toplist").fadeIn("fast")})})}),$(document).hammer().on("swipeleft",".toplist",function(){$("#toplistBack").trigger("tap")}),$(document).hammer().on("swiperight",".toplist",function(){$("#toplistBack").trigger("tap")}),$(document).hammer().on("tap","#toplistBack",function(){$(".toplist").fadeOut("fast",function(){$(".finished").fadeIn("fast")})});